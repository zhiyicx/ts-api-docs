(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{386:function(t,s,a){"use strict";a.r(s);var e=a(42),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"知识模块apis文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识模块apis文档"}},[t._v("#")]),t._v(" 知识模块APIs文档")]),t._v(" "),a("h2",{attrs:{id:"知识模块配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识模块配置"}},[t._v("#")]),t._v(" 知识模块配置")]),t._v(" "),a("blockquote",[a("p",[t._v("知识模块配置在启动接口"),a("code",[t._v("api/v2/bootstrappers")]),t._v("中返回"),a("code",[t._v("knowledge")]),t._v("，配置详情如下：")])]),t._v(" "),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 成为作者的条件、对作者的定义，可选:")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// verification 表示认证用户即为作者")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ability 表示需要具有特定权限的用户为作者")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"verification"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当author=ability时需要检查的权限名称")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ability_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"knowledge:author"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当author=verification允许的认证类型")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多个类型配置在一个数组列表中，允许全部为 null")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allow_v10n_types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 知识定价政策，可选：")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// price 仅价格，积分只能设置0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// score 仅积分，价格只能设置0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// both  需要同时设置价格和积分")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pricing_policy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"both"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TS 目前项目设置的仅积分，为了兼容ios上架")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果 pricing_policy=both 则配置积分所占百分比")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"score_min_percent"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浮点数，用户下单后平台对金额的抽成比例")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"amount_tax_rate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浮点数，用户下单后平台对积分的抽成比例")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"score_tax_rate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("h3",{attrs:{id:"单独获取知识模块配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单独获取知识模块配置"}},[t._v("#")]),t._v(" 单独获取知识模块配置")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/configs\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 配置信息看“知识模块配置” */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"修改知识模块配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改知识模块配置"}},[t._v("#")]),t._v(" 修改知识模块配置")]),t._v(" "),a("blockquote",[a("p",[t._v("修改知识模块配置需要权限"),a("code",[t._v("knowledge:admin")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PUT /api/v2/knowledge/configs\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("请求参数，"),a("a",{attrs:{href:"#%E7%9F%A5%E8%AF%86%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE"}},[t._v("知识模块配置")])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"保存成功"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"知识分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识分类"}},[t._v("#")]),t._v(" 知识分类")]),t._v(" "),a("h3",{attrs:{id:"获取单个知识分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取单个知识分类"}},[t._v("#")]),t._v(" 获取单个知识分类")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/categories/{category.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("请求查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("count_by_author_id")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者用户ID，统计该作者在每个分类下的知识数量")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分类ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"分类一"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分类名称")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icon"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 图片信息 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sort"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 排序字段")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"unpublished_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 未发布的知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"published_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已发布的知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trashed_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已下架/软删除的知识数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"knowledge_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-16 09:25:48"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-16 09:51:32"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"deleted_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-16 09:51:32"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分类删除标识")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_unpublished_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定作者未发布的知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_published_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定作者已发布的知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_trashed_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定作者已下架/软删除的知识数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_knowledge_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定作者知识总数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"count_by_author_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端给的作者用户ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h3",{attrs:{id:"获取知识分类列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取知识分类列表"}},[t._v("#")]),t._v(" 获取知识分类列表")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/categories\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("trashed")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，默认"),a("code",[t._v("without")]),t._v("，选项："),a("br"),a("code",[t._v("without")]),t._v("不包括已删除分类，"),a("br"),a("code",[t._v("with")]),t._v("包括已删除分类"),a("br"),a("code",[t._v("only")]),t._v("·仅已删除的分类")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("count_by_author_id")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者用户ID，统计该作者在每个分类下的知识数量")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 分类数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 分类数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"添加知识分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加知识分类"}},[t._v("#")]),t._v(" 添加知识分类")]),t._v(" "),a("blockquote",[a("p",[t._v("知识分类只有拥有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户才能创建")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /api/v2/knowledge/categories\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("name")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，分类名称，不能重复，最大长度24（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("sort")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，排序值，越大越靠前")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 201 Created\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 分类数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"修改知识分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改知识分类"}},[t._v("#")]),t._v(" 修改知识分类")]),t._v(" "),a("blockquote",[a("p",[t._v("知识分类只有拥有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户才能更改")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PUT|PATCH /api/v2/knowledge/categories/{category.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("name")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，分类名称，不能重复，最大长度24（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("sort")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，排序值，越大越靠前")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("deleted")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，软删除/恢复分类")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 分类数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"删除知识分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除知识分类"}},[t._v("#")]),t._v(" 删除知识分类")]),t._v(" "),a("blockquote",[a("p",[t._v("知识分类只有拥有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户才能删除，且knowledge_count>0时禁止删除")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE /api/v2/knowledge/categories/{category.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 204 No Content\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识"}},[t._v("#")]),t._v(" 知识")]),t._v(" "),a("h3",{attrs:{id:"获取单个知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取单个知识"}},[t._v("#")]),t._v(" 获取单个知识")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/{knowledge.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("author")]),t._v(","),a("code",[t._v("author.verification")]),t._v(","),a("code",[t._v("category")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 知识作者的用户ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"category_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所属分类ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cover"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 文件信息 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标题"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subtitle"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"副标题"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"intro"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"简介"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"price"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 人民币价格")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// + 积分价格")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chapters_enabled"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否启用章节")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"free_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"免费内容"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 免费内容，当chapters_enabled=false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paid_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"付费内容"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 付费内容，当chapters_enabled=false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"views_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"likes_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收藏数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"orders_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"comments_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 点评数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chapters_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 章节总数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chapters_pub_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已发布章节数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chapters_unpub_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 未发布章节数量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 状态 0未发布 1已发布 2已下架")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topped_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-26 03:43:49"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局置顶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_topped_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-26 03:43:49"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 作者置顶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"category_topped_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-26 03:43:49"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分类置顶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-26 03:43:49"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建时间")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-26 03:43:49"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新时间")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"liked"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 附加字段，当前用户是否已收藏")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"purchased"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 附加字段, 当前用户是否已购买")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"can_comment"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 附加字段，当前用户是否可点评")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"has_paid_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 附加字段，是否有付费内容，当chapters_enabled=false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 用户数据 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关系字段，知识作者的用户信息")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"category"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 分类数据 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关系字段，知识所属的分类")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br")])]),a("h3",{attrs:{id:"获取知识列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取知识列表"}},[t._v("#")]),t._v(" 获取知识列表")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("请求查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("id")])]),t._v(" "),a("td",[a("code",[t._v("integer,string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识ID，多个逗号分隔")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_id")])]),t._v(" "),a("td",[a("code",[t._v("integer,string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者用户ID，不提供则查询全部用户，多个逗号分隔")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("category_id")])]),t._v(" "),a("td",[a("code",[t._v("integer,string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，分类ID，不提供则查询全部分类，多个逗号分隔")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("status")])]),t._v(" "),a("td",[a("code",[t._v("integer,string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，状态，0 未发布 1 已发布 2 已下架，默认全部，多个逗号分隔")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("min_price")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，最低价格")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("max_price")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，最高价格")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("min_score")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，最低积分")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("max_score")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，最高积分")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("keyword")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，查询关键字，仅在标题和苏标题中搜索")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("liked")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，无默认值，选项："),a("br"),a("code",[t._v("check")]),t._v("返回列表中包含"),a("code",[t._v("liked")]),t._v("字段表示收藏状态"),a("br"),a("code",[t._v("only")]),t._v("仅查询自己已收藏的知识")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("offset")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，本地已有加载数据数量")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("limit")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，获取条数，默认15")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("order")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，排序，多个逗号分隔；支持的排序字段："),a("br"),t._v("id, price, score, views_count, likes_count, orders_count, comments_count,"),a("br"),t._v("topped_at, author_topped_at, category_topped_at, created_at, updated_at"),a("br"),a("br"),t._v("如：topped_at desc,updated_at desc")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("page")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，第几页，如果有此参数，则返回分页模式的数据")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("author")]),t._v(","),a("code",[t._v("author.verification")]),t._v(","),a("code",[t._v("category")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 单个知识信息 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 单个知识信息 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"添加知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加知识"}},[t._v("#")]),t._v(" 添加知识")]),t._v(" "),a("blockquote",[a("p",[t._v("普通用户只有认证后或拥有指定用户权限才能添加知识，有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户可以为任何人创建知识")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /api/v2/knowledge\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者用户ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("category_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识所属分类ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("cover")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识封面的 storage node，128个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("title")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("subtitle")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识副标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("intro")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识简介，160个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("price")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识售价，单位"),a("code",[t._v("分")]),t._v(" ，没有则设置"),a("code",[t._v("0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("score")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，购买所需积分数量，没有则设置"),a("code",[t._v("0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("chapters_enabled")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，是否启用章节结构")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("free_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，如果没有启用章节结构，则可以输入单篇文章中免费内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("paid_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，如果没有启用章节结构，则可以输入单篇文章中支付后可查看的内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("status")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识状态，选项 0未发布 1已发布 2已下架")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否全局置顶知识，需要权限"),a("code",[t._v("knowledge:admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("category_topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否分类置顶知识，需要权限"),a("code",[t._v("knowledge:admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否作者置顶知识")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 201 Created\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 响应字段和获取单个知识一致，但不包括附加字段和关系字段 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"修改知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改知识"}},[t._v("#")]),t._v(" 修改知识")]),t._v(" "),a("blockquote",[a("p",[t._v("普通用户只有认证后或拥有指定用户权限才能更新自己创建的知识，有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户可以更新任何人的知识")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PATCH /api/v2/knowledge/{knowledge.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者用户ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("category_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识所属分类ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("cover")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识封面的 storage node，128个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("title")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("subtitle")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识副标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("intro")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识简介，160个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("price")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识售价，单位"),a("code",[t._v("分")]),t._v(" ，没有则设置"),a("code",[t._v("0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("score")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，购买所需积分数量，没有则设置"),a("code",[t._v("0")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("chapters_enabled")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否启用章节结构")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("free_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，如果没有启用章节结构，则可以输入单篇文章中免费内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("paid_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，如果没有启用章节结构，则可以输入单篇文章中支付后可查看的内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("status")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识状态，选项 0未发布 1已发布 2已下架")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否全局置顶知识，需要权限"),a("code",[t._v("knowledge:admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("category_topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否分类置顶知识，需要权限"),a("code",[t._v("knowledge:admin")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_topped")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，是否作者置顶知识")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 响应字段和获取单个知识一致，但不包括附加字段和关系字段 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"删除知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除知识"}},[t._v("#")]),t._v(" 删除知识")]),t._v(" "),a("blockquote",[a("p",[t._v("普通用户只有认证后或拥有指定权限才能删除自己创建的知识，有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户可以删除任何人的知识；如果一个知识有订单、评论、收藏则禁止删除")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE /api/v2/knowledge/{knowledge.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 204 No Content\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"收藏知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#收藏知识"}},[t._v("#")]),t._v(" 收藏知识")]),t._v(" "),a("blockquote",[a("p",[t._v("知识 "),a("code",[t._v("status!=1")]),t._v(" 时，此知识将无法再收藏；已收藏的不受影响，但取消收藏后无法再次收藏")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PUT|PATCH /api/v2/knowledge/{knowledge.id}/like\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 204 No Content\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"取消收藏知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取消收藏知识"}},[t._v("#")]),t._v(" 取消收藏知识")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE /api/v2/knowledge/{knowledge.id}/like\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 204 No Content\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"统计可兑换的知识数量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计可兑换的知识数量"}},[t._v("#")]),t._v(" 统计可兑换的知识数量")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/count-convertible\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("exclude_purchased")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，排除已购买的知识，选项 0不排除，1排序；此选项对应的功能暂未实现")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"free_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可兑换的免费知识数量")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"charge_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可兑换的收费知识数量")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"检查用户能否发布知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查用户能否发布知识"}},[t._v("#")]),t._v(" 检查用户能否发布知识")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/can-publish\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，要查询的用户ID，不传则为当前用户")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"can_publish"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true表示能发布，false表示不能发布")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"知识章节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识章节"}},[t._v("#")]),t._v(" 知识章节")]),t._v(" "),a("h3",{attrs:{id:"获取单个章节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取单个章节"}},[t._v("#")]),t._v(" 获取单个章节")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/chapters/{chapter.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("prev")]),t._v(","),a("code",[t._v("next")]),t._v(","),a("code",[t._v("knowledge.author")]),t._v(","),a("code",[t._v("knowledge.author.verification")]),t._v(","),a("code",[t._v("knowledge.category")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"knowledge_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sequence"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 章节序号")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"image"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 图片信息 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"章节标题"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"intro"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"简介"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"free_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"免费内容"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paid_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"付费内容"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"views_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览量")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"published"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发布状态")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-30 08:09:56"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-30 08:09:56"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"has_paid_content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 本章节是否有收费内容")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 章节数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上一章")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"next"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 章节数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下一章")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"knowledge"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 知识数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关系字段")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h2",{attrs:{id:"获取章节列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取章节列表"}},[t._v("#")]),t._v(" 获取章节列表")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/chapters\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("knowledge_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要查询的知识ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("sequences")])]),t._v(" "),a("td",[a("code",[t._v("integer,array<integer>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要查询的章节序号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("published")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要查询的发布状态 可选0,1；默认不限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("offset")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，本地已有加载数据数量")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("limit")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，获取条数，最多100")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("page")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，第几页，如果有此参数，则返回分页模式的数据")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("knowledge")]),t._v(","),a("code",[t._v("knowledge.author")]),t._v(","),a("code",[t._v("knowledge.author.verification")]),t._v(","),a("code",[t._v("knowledge.category")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 单个章节数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 单个章节数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"添加章节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加章节"}},[t._v("#")]),t._v(" 添加章节")]),t._v(" "),a("blockquote",[a("p",[t._v("普通作者只能给自己的知识添加章节，有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户可以为任何知识添加章节")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /api/v2/knowledge/chapters\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("knowledge_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，知识ID，需要chapters_enabled=true")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("image")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节图片 storage node，128个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("title")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，章节标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("intro")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节简介，160个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("free_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节中免费内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("paid_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节中支付后可查看的内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("published")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，章节发布状态，true发布，false未发布")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 201 Created\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 响应字段和获取单个章节一致，但不包括附加字段和关系字段 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"修改章节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改章节"}},[t._v("#")]),t._v(" 修改章节")]),t._v(" "),a("blockquote",[a("p",[t._v("普通作者只能修改自己发布的章节，有 "),a("code",[t._v("knowledge:admin")]),t._v(" 权限的用户修改任何章节")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PUT|PATCH /api/v2/knowledge/chapters/{chapter.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("image")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节图片 storage node，128个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("title")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节标题，最大长度60（GB18030长度）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("intro")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节简介，160个字符以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("free_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节中免费内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("paid_content")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节中支付后可查看的内容，65000个字节以内")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("published")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，章节发布状态，true发布，false未发布")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 响应字段和获取单个章节一致，但不包括附加字段和关系字段 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"删除章节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除章节"}},[t._v("#")]),t._v(" 删除章节")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DELETE /api/v2/knowledge/chapters/{chapter.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 204 No Content\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"知识订单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识订单"}},[t._v("#")]),t._v(" 知识订单")]),t._v(" "),a("blockquote",[a("p",[t._v("未支付的知识订单服务器将会定期清除，一般仅保留1~2小时")])]),t._v(" "),a("h3",{attrs:{id:"创建知识订单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建知识订单"}},[t._v("#")]),t._v(" 创建知识订单")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /api/v2/knowledge/orders\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("knowledge_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，要购买的知识ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("pay_score")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，使用积分支付的数量，范围0~knowledge.score，默认最大值")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("pay_method")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，支付方法，余额和积分无法完成支付时必传，可选值："),a("br"),a("code",[t._v("Alipay_AopApp")]),t._v(" 支付宝APP支付"),a("br"),a("code",[t._v("Alipay_AopWap")]),t._v(" 支付宝H5网页支付"),a("br"),a("code",[t._v("Alipay_AopPage")]),t._v(" 支付宝PC网页支付"),a("br"),a("code",[t._v("WechatPay_App")]),t._v(" 微信APP支付"),a("br"),a("code",[t._v("WechatPay_Js")]),t._v(" 微信小程序、公众号支付")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("pay_balance")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，使用钱包余额支付的金额")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_remark")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，用户对此订单的备注，最长150个字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，收货地址ID，必须是当前用户收货地址")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address")])]),t._v(" "),a("td",[a("code",[t._v("object")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，自定义的收货地址，如果提供此参数则忽略"),a("code",[t._v("address_id")]),t._v("参数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.name")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，收货人姓名")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.phone")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，手机号码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.province")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，所在省份")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.city")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，所在城市")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.county")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，所在区县")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.detail")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("必须")]),t._v("，详细地址")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("address.postcode")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，邮政编码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("redirect_url")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，当"),a("code",[t._v("pay_method=Alipay_AopWap/Alipay_AopPage")]),t._v("时支付完成后的重定向URL，最长256个字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("openid")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，当"),a("code",[t._v("pay_method=WechatPay_Js")]),t._v("时需提供当前用户的openid")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("appid")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，当"),a("code",[t._v("pay_method=WechatPay_Js")]),t._v("时需提供当前的appid")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("app_type")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，当"),a("code",[t._v("pay_method=WechatPay_Js")]),t._v("时需提供当前的APP类型，可选 app:公众号 micro:小程序，提供了此参数且没提供appid，系统将读取配置中的appid")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 201 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("46")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单所有者用户ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"knowledge_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 购买的知识ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 店主用户ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分总额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分（作者应得部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tax_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分（平台抽取部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单总金额（单位：分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单金额（作者应得部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tax_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单金额（平台抽取部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_balance"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用余额支付的金额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用第三方支付支付的金额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单收货地址")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"phone"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18888888888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"province"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"四川省"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"city"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成都市"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"county"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"高新区"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"detail"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"XXXXX号"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"postcode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"610000"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trade_no"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxxxx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pay_method不为None时才有订单号")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_method"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"None"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单支付方式，如果用余额全额支付则为None，否则为传入的值")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pay_method不为None时才有，用于第三方支付的数据，可能是任何数据类型。")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付状态 0未支付、1已支付，但处理失败（三方平台支付的金额已充值到余额），2已支持且处理购买逻辑成功")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paid_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单支付后才有此标识")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br")])]),a("h3",{attrs:{id:"修改订单信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改订单信息"}},[t._v("#")]),t._v(" 修改订单信息")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("PATCH /api/v2/knowledge/orders/{order.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("输入：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_remark")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，用户备注，仅用户可修改，最长150个字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_remark")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者备注，仅作者可修改，最长150个字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_deleted")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，设置用户端订单删除状态，仅用户可修改")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_deleted")])]),t._v(" "),a("td",[a("code",[t._v("boolean")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，设置作者端订单删除状态，仅作者可修改")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("last_read_cid")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，设置用户最后阅读的章节ID")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 订单数据 */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"获取单个订单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取单个订单"}},[t._v("#")]),t._v(" 获取单个订单")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/orders/{order.id}\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("knowledge")]),t._v(","),a("code",[t._v("knowledge.category")]),t._v(","),a("code",[t._v("user")]),t._v(","),a("code",[t._v("user.verification")]),t._v(","),a("code",[t._v("author")]),t._v(","),a("code",[t._v("author.verification")]),t._v(","),a("code",[t._v("last_read_chapter")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("46")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单所有者用户ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"knowledge_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 购买的知识ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 店主用户ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分总额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分（作者应得部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tax_score"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单积分（平台抽取部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单总金额（单位：分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单金额（作者应得部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tax_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单金额（平台抽取部分）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_balance"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用余额支付的金额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_amount"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用第三方支付支付的金额")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单收货地址")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"姓名"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"phone"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18888888888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"province"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"四川省"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"city"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成都市"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"county"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"高新区"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"detail"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"XXXXX号"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"postcode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"610000"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trade_no"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxxxx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pay_method不为None时才有订单号")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_method"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"None"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单支付方式，如果用余额全额支付则为None，否则为传入的值")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pay_status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支付状态 0未支付、1已支付，但处理失败（三方平台支付的金额已充值到余额），2已支持且处理购买逻辑成功")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"paid_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 订单支付后才有此标识")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user_remark"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"用户备注"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_remark"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"作者备注"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"comment_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户评论的FeedID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"last_read_cid"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最后阅读的章节ID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user_deleted_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户删除标识")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author_deleted_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-04-25 09:20:13"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 作者删除标识")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br")])]),a("h3",{attrs:{id:"获取订单列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取订单列表"}},[t._v("#")]),t._v(" 获取订单列表")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/orders\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("role")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，默认 "),a("code",[t._v("admin")]),t._v("，选项："),a("br"),a("code",[t._v("admin")]),t._v("以管理员角色获取全部订单"),a("br"),a("code",[t._v("user")]),t._v("以用户角色获取自己的订单"),a("br"),a("code",[t._v("author")]),t._v("·以作者角色获取订单")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，用户ID，role=admin时可用，多个用逗号分隔或数组传递")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，作者ID，role=admin时可用，多个用逗号分隔或数组传递")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("user_trashed")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，role=user时可用，默认"),a("code",[t._v("without")]),t._v("，选项："),a("br"),a("code",[t._v("without")]),t._v("不包括已删除的订单"),a("br"),a("code",[t._v("with")]),t._v("包括已删除的订单"),a("br"),a("code",[t._v("only")]),t._v("·仅已删除的订单")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("author_trashed")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，role=author时可用，默认"),a("code",[t._v("without")]),t._v("，选项："),a("br"),a("code",[t._v("without")]),t._v("不包括已删除的订单"),a("br"),a("code",[t._v("with")]),t._v("包括已删除的订单"),a("br"),a("code",[t._v("only")]),t._v("·仅已删除的订单")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("knowledge_id")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，知识ID，多个用逗号分隔或数组传递")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("pay_status")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，订单的支付状态，选项 "),a("code",[t._v("0,1,2")]),t._v("，多个用逗号分隔或数组传递")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("commented")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，订单的评论状态，选项 "),a("code",[t._v("0,1")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("start_time")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，开始时间，支持大部分时间格式，需包含时区部分")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("end_time")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，结束时间，支持大部分时间格式，需包含时区部分")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("time_key")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，时间字段名， 默认 "),a("code",[t._v("created_at")]),t._v("，还支持 "),a("code",[t._v("updated_at,paid_at")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("after")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，本地最后一条数据的ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("limit")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，获取条数，默认15")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("page")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，第几页，如果有此参数，则返回分页模式的数据")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("with")])]),t._v(" "),a("td",[a("code",[t._v("string,array<string>")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，需要返回的关联数据，可选："),a("code",[t._v("knowledge")]),t._v(","),a("code",[t._v("knowledge.category")]),t._v(","),a("code",[t._v("user")]),t._v(","),a("code",[t._v("user.verification")]),t._v(","),a("code",[t._v("author")]),t._v(","),a("code",[t._v("author.verification")]),t._v(","),a("code",[t._v("last_read_chapter")])])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  单个订单数据 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  单个订单数据 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h3",{attrs:{id:"订单通知及消息说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#订单通知及消息说明"}},[t._v("#")]),t._v(" 订单通知及消息说明")]),t._v(" "),a("blockquote",[a("p",[t._v("当一个订单支付成功后，系统将推送一条通知到作者端，通知类型"),a("code",[t._v("notification:selling-knowledge")]),t._v("。对于消息数处理都调用"),a("code",[t._v("user/notification*")]),t._v("接口。")])]),t._v(" "),a("blockquote",[a("p",[t._v("未查看(处理)订单消息数，接口"),a("code",[t._v("GET /api/v2/user/notification-statistics")]),t._v(" 返回结果中"),a("code",[t._v("badges")]),t._v("和"),a("code",[t._v("lastCreatedAts")]),t._v("增加了字段"),a("code",[t._v("selling_knowledge")]),t._v("，分别为新订单数量统计和最新订单的创建时间。")])]),t._v(" "),a("blockquote",[a("p",[t._v("清空未查看(处理)订单消息数，接口 "),a("code",[t._v("PUT /api/v2/user/notifications?type=selling_knowledge")])])]),t._v(" "),a("blockquote",[a("p",[t._v("配置订单消息通知，接口"),a("code",[t._v("PATCH /api/v2/user/notification-settings")]),t._v(" 字段名为 "),a("code",[t._v("selling_knowledge")])])]),t._v(" "),a("blockquote",[a("p",[t._v("获取订单消息通知的配置，接口"),a("code",[t._v("GET /api/v2/user/notification-settings")]),t._v(" 字段名为 "),a("code",[t._v("selling_knowledge")])])]),t._v(" "),a("h2",{attrs:{id:"知识点评"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识点评"}},[t._v("#")]),t._v(" 知识点评")]),t._v(" "),a("h3",{attrs:{id:"发布知识点评"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布知识点评"}},[t._v("#")]),t._v(" 发布知识点评")]),t._v(" "),a("blockquote",[a("p",[t._v("知识点评仅购买后或拥有"),a("code",[t._v("knowledge:commenter")]),t._v("权限的用户可以发布。购买后只能点评一次。")])]),t._v(" "),a("blockquote",[a("p",[t._v("发布知识点评调用发布动态的接口，其中 "),a("code",[t._v("repostable_type")]),t._v(" 设置为 "),a("code",[t._v("knowledge")]),t._v("，"),a("code",[t._v("repostable_id")]),t._v(" 设置要点评的知识ID。\n默认情况下，会自动选择指定知识的最早未点评的订单进行点评，如果要点评指定订单，请传入 "),a("code",[t._v("knowledge_order_id")]),t._v(" 参数指定要点评的订单ID。")])]),t._v(" "),a("blockquote",[a("p",[t._v("服务端返回动态数据时，会附加 "),a("code",[t._v("repostable")]),t._v("(关联数据) "),a("code",[t._v("repostable_type")]),t._v("(关联数据的类型) "),a("code",[t._v("repostable_id")]),t._v("(关联数据的ID)三个字段。")])]),t._v(" "),a("h3",{attrs:{id:"获取知识点评"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取知识点评"}},[t._v("#")]),t._v(" 获取知识点评")]),t._v(" "),a("p",[t._v("获取指定知识点评")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/{knowledge.id}/comments\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("获取全部知识点评")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("GET /api/v2/knowledge/comments\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("查询参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("type")])]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，要获取的点评类型，默认全部，选项："),a("br"),a("code",[t._v("image")]),t._v("仅获取带图片的点评"),a("br"),a("code",[t._v("video")]),t._v("仅获取带视频的点评"),a("br"),a("code",[t._v("image_or_video")]),t._v(" 获取带图片或视频的点评")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("after")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，本地最后一条数据的ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("limit")])]),t._v(" "),a("td",[a("code",[t._v("integer")])]),t._v(" "),a("td",[a("strong",[t._v("可选")]),t._v("，获取条数，默认15")])])])]),t._v(" "),a("p",[t._v("响应：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status: 200 OK\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language-json5 line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json5"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  单个动态数据 */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);