(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{494:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"通过宝塔面板安装运行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过宝塔面板安装运行环境"}},[s._v("#")]),s._v(" 通过宝塔面板安装运行环境")]),s._v(" "),a("h2",{attrs:{id:"简单介绍宝塔面板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单介绍宝塔面板"}},[s._v("#")]),s._v(" 简单介绍宝塔面板")]),s._v(" "),a("blockquote",[a("p",[s._v("宝塔Linux面板是提升运维效率的服务器管理软件，支持一键LAMP/LNMP/集群/监控/网站/FTP/数据库/JAVA等100多项服务器管理功能。\n有30个人的专业团队研发及维护，经过200多个版本的迭代，功能全，少出错且足够安全，已获得全球百万用户认可安装。运维要高效，装宝塔")])]),s._v(" "),a("p",[a("strong",[s._v("由于命令行安装环境对于很多用户来说学习成本太高，所以推荐一款可视化的环境运维产品 "),a("a",{ref:"noopener noreferrer",attrs:{href:"https://www.bt.cn/?invite_code=MV9iY3F0dGI=",target:"_blank",rel:"noopener noreferrer"}},[s._v("宝塔面板"),a("OutboundLink")],1),s._v("\n大部分的场景只需要免费版即可")])]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("以下的所有操作都默认在8888端口下进行")])]),s._v(" "),a("h2",{attrs:{id:"安装步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),a("h3",{attrs:{id:"找到合适服务器操作系统的版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#找到合适服务器操作系统的版本"}},[s._v("#")]),s._v(" 找到合适服务器操作系统的版本")]),s._v(" "),a("p",[a("a",{ref:"noopener noreferrer",attrs:{href:"https://www.bt.cn/bbs/thread-19376-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("宝塔面板官方安装教程"),a("OutboundLink")],1),s._v("\n例如我现在有一台 Centos 7.*的服务器, 打开上面的页面之后，找到下图中的内容")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O install.sh http://download.bt.cn/install/install_6.0.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" install.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{attrs:{alt:"Centos 7.*安装宝塔面板",src:s.$withBase("/assets/img/centos-install-bt.png")}}),s._v(" "),a("p",[s._v("将上面的命令粘贴到服务器的命令行中，回车然后等待运行结束\n命令行中会提示")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Bt-Panel: http://ip:8888/xxxx\nusername: username\npassword: password\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("的内容，并提示你放行服务器的安全组"),a("code",[s._v("腾讯")]),s._v(","),a("code",[s._v("阿里云")]),s._v("都需要放行")]),s._v(" "),a("h3",{attrs:{id:"安全组放行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全组放行"}},[s._v("#")]),s._v(" 安全组放行")]),s._v(" "),a("p",[s._v("到服务器所在的厂商，放行实例安全组的 "),a("code",[s._v("8888")]),s._v("端口入规则，当然你可以自定义这个端口号，\n可以在服务器的命令行中操作，在命令行中输入")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("bt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后回车，出现")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("宝塔面板命令行"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 重启面板服务           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 改面板端口\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 停止面板服务           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 清除面板缓存\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 启动面板服务           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 清除登录限制\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 重载面板服务           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 取消入口限制\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 修改面板密码           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 取消域名绑定限制\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 修改面板用户名         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 取消IP访问限制\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 强制修改MySQL密码      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 查看面板默认信息\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 显示面板错误日志      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 清理系统垃圾\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 关闭BasicAuth认证     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 修复面板"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("检查错误并更新面板文件到最新版"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 关闭谷歌认证          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 设置日志切割是否压缩\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 设置是否保存文件历史副本  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 设置是否自动备份面板\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 取消\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n请输入命令编号：\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("输入8，然后更改为你想设置的端口号，并修改对应的服务器防安全组放行端口")]),s._v(" "),a("h3",{attrs:{id:"安装所需环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装所需环境"}},[s._v("#")]),s._v(" 安装所需环境")]),s._v(" "),a("p",[s._v("登录宝塔面板地址，在左侧菜单中点击 "),a("code",[s._v("软件商店")]),s._v("\n并安装 "),a("code",[s._v("php 7.3")]),s._v(", "),a("code",[s._v("nginx 1.18")]),s._v(", "),a("code",[s._v("mysql 5.7")]),s._v(", "),a("code",[s._v("redis 5.*/6.*")]),s._v("\n安装需要的时间由服务器的硬件决定")]),s._v(" "),a("p",[s._v("安装过程宝塔面板页面的左上角有安装任务的数量，当安装成功后任务数量会清零\n如果没有以外发生，这时候环境就安装完成了")]),s._v(" "),a("h3",{attrs:{id:"安装php扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装php扩展"}},[s._v("#")]),s._v(" 安装PHP扩展")]),s._v(" "),a("p",[s._v("等待上一步的安装完全安装成功之后，在"),a("code",[s._v("软件商店")]),s._v("中找到安装过的 "),a("code",[s._v("PHP 7.3")]),s._v("\n点击设置看到如下界面\n"),a("img",{attrs:{alt:"PHP 7.3",src:s.$withBase("/assets/img/php-7.3.png")}}),s._v("\n点击"),a("code",[s._v("扩展安装")]),s._v(", 选择\n"),a("code",[s._v("fileinfo")]),s._v(",\n"),a("code",[s._v("opcache")]),s._v(",\n"),a("code",[s._v("redis")]),s._v(",\n"),a("code",[s._v("exif")]),s._v(",\n"),a("code",[s._v("imagemagick")]),s._v("\n依旧需要等待安装完成")]),s._v(" "),a("p",[a("strong",[s._v("环境安装结束")])]),s._v(" "),a("h2",{attrs:{id:"添加站点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加站点"}},[s._v("#")]),s._v(" 添加站点")]),s._v(" "),a("h3",{attrs:{id:"添加站点-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加站点-2"}},[s._v("#")]),s._v(" 添加站点")]),s._v(" "),a("ol",[a("li",[s._v("回到面板，点击左侧菜单的 "),a("code",[s._v("网站")]),s._v("，点击点击右侧区域的绿色按钮 "),a("code",[s._v("添加站点")])]),s._v(" "),a("li",[s._v("按要求填写弹出框中的内容")]),s._v(" "),a("li",[s._v("数据库选择 "),a("code",[s._v("mysql")]),s._v("，字符集选择 "),a("code",[s._v("utf8mb4")]),s._v("，如果填写了域名，会以分割的方式使用"),a("code",[s._v("_")]),s._v("连接生成一个数据库名和相同的数据库账号")]),s._v(" "),a("li",[s._v("点击提交，页面刷新，出现新添加的站点")])]),s._v(" "),a("h3",{attrs:{id:"克隆授权仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#克隆授权仓库"}},[s._v("#")]),s._v(" 克隆授权仓库")]),s._v(" "),a("p",[s._v("如果按上面的步骤创建了站点，在站点所在的目录 比如在上一步中填写的域名是 xxx.com，\n面板会生成 /www/wwwroot/xxx.com的目录，此时目录中会有一些默认的内容\n这时候需要使用到服务器命令行操作了")]),s._v(" "),a("ol",[a("li",[s._v("cd /www/wwwroot 回车")]),s._v(" "),a("li",[s._v("git clone https://github.com/zhiyicx/xxxxx xxx.com "),a("code",[s._v("xxxx为你的授权仓库名字")]),s._v("\n却发现提示xxx.com目录不是空的，那我们需要做一件事情，清空这个目录")])]),s._v(" "),a("blockquote",[a("p",[s._v("目录里面有个.user.ini的文件怎么都删除不掉，就需要在宝塔控制面板上进入这个目录，在面板上操作删除这个目录，具体的原因就不多说了")])]),s._v(" "),a("p",[s._v("然后我们再来clone仓库，或者")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/zhiyicx/xxxxx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("让git自己生成一个目录，上面的命令会生成"),a("code",[s._v("xxxxx")]),s._v("目录")]),s._v(" "),a("p",[s._v("如果你克隆仓库的时候执行的是后面的这个命令，\n那就需要在克隆完成之后，在面板的网站列表重新指定一下站点的目录位置，设置按钮在站点右侧\n点击之后看到如下弹窗\n"),a("img",{attrs:{alt:"PHP 7.3",src:s.$withBase("/assets/img/site-setting.png")}})]),s._v(" "),a("p",[s._v("点击网站目录，选择上面的 "),a("code",[s._v("/www/wwwroot/xxxxx")]),s._v("目录，然后点击保存，")]),s._v(" "),a("p",[a("strong",[s._v("运行目录必须选择 "),a("code",[s._v("public")]),s._v("目录")])]),s._v(" "),a("p",[a("strong",[s._v("伪静态必须选择 "),a("code",[s._v("laravel5")])])]),s._v(" "),a("p",[s._v("SSL证书可以根据你自己的要求来处理，一般选择 "),a("code",[s._v("Let's Encrypt")]),s._v("来处理")]),s._v(" "),a("p",[a("strong",[s._v("网站配置完成")])]),s._v(" "),a("p",[s._v("后面的步骤接着 "),a("RouterLink",{attrs:{to:"/guide/installation/install-plus.html#基础配置"}},[s._v("基础配置")]),s._v("\n往下执行即可")],1)])}),[],!1,null,null,null);t.default=e.exports}}]);